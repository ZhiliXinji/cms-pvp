<aside class="sidebar d-flex flex-column gap-3 sticky-top">
    <div id="countdown_box" class="card shadow">
        <div class="card-body">
            <div
                class="w-100 d-inline-flex justify-content-center align-items-baseline gap-1 text-body-secondary fs-4"
            >
                <i class="bi bi-hourglass-split"></i>
                <span id="countdown" class="font-monospace"></span>
            </div>
            <div
                class="w-100 d-inline-flex justify-content-center align-items-baseline gap-1 text-body-secondary small"
            >
                <i class="bi bi-clock"></i>
                <span id="server_time" class="font-monospace"></span>
            </div>
        </div>
    </div>
    <div class="list-group overflow-y-auto shadow">
        <a
            href="{{ contest_url() }}"
            class="list-group-item list-group-item-action{% if page == 'overview' %} active{% endif %}"
        >
            {% trans %}Overview{% endtrans %}
        </a>
        <a
            href="{{ contest_url('communication') }}"
            class="list-group-item list-group-item-action{% if page == 'communication' %} active{% endif %}"
        >
            <div class="d-flex justify-content-between align-items-center">
                {% trans %}Communication{% endtrans %}
                <span id="unread_count" class="badge rounded-pill text-bg-warning"></span>
            </div>
        </a>
        {% if actual_phase == 0 or actual_phase == 3 or participation.unrestricted %}
            {% for t_iter in contest.tasks %}
                <div class="hovermenu task-nav">
                    <button type="button" class="list-group-item list-group-item-action">
                        {{ t_iter.name }}
                    </button>
                    <ul class="dropdown-menu shadow">
                        <li class="mx-1">
                            <a
                                href="{{ contest_url('tasks', t_iter.name, 'description') }}"
                                class="dropdown-item rounded{% if page == 'task_description' and task == t_iter %} active{% endif %}"
                            >
                                {% trans %}Statement{% endtrans %}
                            </a>
                        </li>
                        <li class="mx-1">
                            <a
                                href="{{ contest_url('tasks', t_iter.name, 'submissions') }}"
                                class="dropdown-item rounded{% if page == 'task_submissions' and task == t_iter %} active{% endif %}"
                            >
                                {% trans %}Submissions{% endtrans %}
                            </a>
                        </li>
                    </ul>
                </div>
            {% endfor %}
        {% endif %}
        <a
            href="{{ contest_url('documentation') }}"
            class="list-group-item list-group-item-action{% if page == 'documentation' %} active{% endif %}"
        >
            {% trans %}Documentation{% endtrans %}
        </a>
        {% if actual_phase == 0 or participation.unrestricted %}
            {% if testing_enabled %}
                <a
                    href="{{ contest_url('testing') }}"
                    class="list-group-item list-group-item-action{% if page == 'test_interface' %} active{% endif %}"
                >
                    {% trans %}Testing{% endtrans %}
                </a>
            {% endif %}
            {% if printing_enabled %}
                <a
                    href="{{ contest_url('printing') }}"
                    class="list-group-item list-group-item-action{% if page == 'printing' %} active{% endif %}"
                >
                    {% trans %}Testing{% endtrans %}
                </a>
            {% endif %}
        {% endif %}
    </div>
</aside>
